App As appinfo:
    BackEnabled: =true
    ConfirmExit: =true
    ConfirmExitMessage: ="Do you want to exit?"
    OnStart: |+
        =//For Attendance Marking, Setting Variable (Start for "Not start day", end for "Started day but not ended", done for "started and ended your day"
        If(
            IsBlank(
                LookUp(
                    Attendances,
                    IsToday('Attendance Date') && 'Created By'.User = LookUp(
                        Users,
                        'Primary Email' = User().Email
                    ).User
                )
            ),
            Set(
                varAttendance,
                "start"
            ),
            IsBlank(
                LookUp(
                    Attendances,
                    IsToday('Attendance Date') && 'Created By'.User = LookUp(
                        Users,
                        'Primary Email' = User().Email
                    ).User
                ).'End Day Date and Time'
            ),
            Set(
                varAttendance,
                "end"
            ),
            Set(
                varAttendance,
                "done"
            )
        );
        Set(
            CurrentUserEmail,
            User().Email
        );
        
        //Set(TodayJobs,CountRows(Filter('Job Cards',Date=Today()));
        Set(TodayJobCount,CountRows(Filter('Job Cards', Date = Today()&& 'Assign to'.'Primary Email'=User().Email)));
        Set(JobExecutedCount,CountRows(Filter('Job Cards', 'Status (crc2a_status)' = Status.Started&& 'Assign to'.'Primary Email'=User().Email)));
        Set(BestExecution,CountRows(Filter('Job Card Info Executions', 'Customer Feedback'>=3 )));
        Set(edback,CountRows(Filter('Job Cards', Date = Today())));
        
    StartScreen: ='Start Screen'

